<!DOCTYPE html>
<html lang="{% if LANGUAGE_CODE == 'fr' %}fr{% else %}en{% endif %}" class="h-full">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO -->
    <title>{% block meta_title %}{{ site_info.site_name }} – Opulence Group Building{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}{{ site_info.footer_text }}{% endblock %}">

    <!-- Open Graph -->
    <meta property="og:title" content="{% block og_title %}{{ site_info.site_name }} – Opulence Group Building{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ site_info.footer_text }}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% if site_info.promo_banner %}{{ site_info.promo_banner.url }}{% else %}{% static 'images/og-default.jpg' %}{% endif %}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ site_info.site_name }} – Opulence Group Building{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ site_info.footer_text }}{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{% if site_info.promo_banner %}{{ site_info.promo_banner.url }}{% else %}{% static 'images/og-default.jpg' %}{% endif %}{% endblock %}">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '{{ site_info.primary_color|default:"#1E40AF" }}',
                        accent: '{{ site_info.accent_color|default:"#3B82F6" }}',
                        neutral: { 100: '{{ site_info.neutral_light|default:"#F3F4F6" }}', 900: '{{ site_info.neutral_dark|default:"#111827" }}' },
                        success: '{{ site_info.success_color|default:"#16A34A" }}',
                        warning: '{{ site_info.warning_color|default:"#F59E0B" }}',
                        danger: '{{ site_info.danger_color|default:"#DC2626" }}'
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif']  /* Une seule police pour tout le site */
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- x-cloak pour Alpine.js -->
    <style>
        [x-cloak] { display: none !important; }
    </style>

    {% block extra_head %}{% endblock %}
</head>
<body class="min-h-full bg-neutral-100 font-sans text-neutral-900 antialiased">

    <!-- Header / Navbar -->
    {% include 'inc/header.html' %}

    <!-- Breadcrumb -->
    {% block breadcrumb %}{% endblock %}

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    {% include 'inc/footer.html' %}

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/{{ site_info.phone_primary }}"
       class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white w-16 h-16 flex items-center justify-center rounded-full shadow-lg z-50 animate-pulse">
        <i class="fab fa-whatsapp text-2xl"></i>
    </a>

    <!-- Cookie Consent -->
    {% include 'inc/cookies.html' %}

    <!-- JS -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    <!-- GTranslate -->
    <div class="gtranslate_wrapper"></div>
    <script>
        window.gtranslateSettings = {
            "default_language":"en",
            "wrapper_selector":".gtranslate_wrapper",
            "float_switcher_open_direction":"bottom"
        }
    </script>
    <script src="https://cdn.gtranslate.net/widgets/latest/float.js" defer></script>

    {% block extra_js %}{% endblock %}
</body>
</html>
